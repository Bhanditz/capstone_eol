- data_object ||= @data_object
- form_tag({:controller => 'data_objects', :action => 'add_association'}) do
  = hidden_field_tag 'id', data_object.id
  = label_tag 'add_association', I18n.t(:add_a_taxon_association_label)
  = text_field_tag 'name'
  = submit_tag I18n.t(:find_taxa_submit_button)
  - unless @entries.blank?
    - start_number = (@entries.current_page - 1) * @entries.per_page + 1
    - end_number = [ (start_number + @entries.per_page - 1), @entries.total_entries ].min
    %h3= I18n.t(:displaying_numerical_range, :start_number => start_number, :end_number => end_number, :total => @entries.total_entries)
    %ul.object_list
      - @entries.each do |result|
        - result_instance = result['instance']
        - unless result_instance.nil? # TODO: result_instance is sometimes nil - remove this comment if that is okay, or fix if not.
          - en_type = en_type(result_instance)
          %li{:class => en_type}
            - if en_type == "taxon"
              = render :partial => "shared/item_summary_taxon.html.haml", :locals => { :item => result_instance }
              = link_to "add association", :controller => "data_objects", :action => :save_association, :id => data_object.id, :hierarchy_entry_id => result_instance.entry.id
              