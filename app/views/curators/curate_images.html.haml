:javascript
  $j(function() {
  $j("td.overlay_link a[rel]").overlay({
  mask: 'black',
  onBeforeLoad: function() {
  var wrap = this.getOverlay().find(".content-wrap");
  wrap.text('');
  wrap.append('<h2>Loading, please wait...</h2>');
  wrap.load(this.getTrigger().attr("href"));
  }
  });
  });
-# TODO - Add a selector to Narrow the list by Content Provider
= will_paginate(@images_to_curate)
%table.results_table
  %tr
    %th
      Taxon
    %th{:width => 368}
      Actions
  - @images_to_curate.each do |image|
    - row_class = cycle('odd', 'even')
    %tr
      %td{:class => "overlay_link #{row_class}"}
        = link_to(image.taxon_concepts[0].scientific_name, {:action => 'curate_image', :data_object_id => image.id}, {:rel => '#overlay'})
        - c_name = image.taxon_concepts[0].common_name
        - if !c_name.blank?
          %br
          = c_name
        %br
        = link_to(image_tag(image.thumb_or_object(:medium), :class => 'curation-thumb'), {:action => 'curate_image', :data_object_id => image.id}, {:rel => '#overlay'})
        %br
        %em
          = "Description:"[]
        - if image.description.empty?
          = "[description is blank]"[]
        - else
          = truncate(image.description, 32)
        - unless image.data_supplier_agent.full_name.empty?
          %br
          %em 
            = "Supplier:"[]
          = image.data_supplier_agent.full_name
        - unless image.location.empty?
          %br
          %em 
            = "Location:"[]
          = truncate(image.location, 32)
      %td{:class => row_class}
        = render :partial => 'curation_tools', :locals => {:data_object => image, :comment_height => 3, :comment_width => 24}
= will_paginate(@images_to_curate)
#overlay.overlay{:style => 'display:none'}
  .content-wrap
= javascript_include_tag 'rating.js' # basically, I'm only using this to update after calling the ajax, below...
= javascript_include_tag 'curation_tools.js'
