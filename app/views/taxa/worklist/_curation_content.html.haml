- en_type = en_type(@current_task)
.article#task
  %div{:class => @current_task.is_text? ? 'article copy' : 'media'}
    - if @current_task.is_text? && ! @current_task.object_title.blank?
      %h2= @current_task.object_title
    - # TODO : Fix this. Image thumbnail should be 520_360.
    = render :partial => "data_objects/data_object_#{en_type}", :locals => { :data_object => @current_task, :taxon_concept => @taxon_concept, :size => 'large' }
  = render :partial => 'data_objects/rating', :locals => { :data_object => @current_task }
  - unless @current_task.is_text? # NOTE - text description was already shown above so we don't want to show it again.
    = render :partial => 'data_objects/description.html.haml', :locals => { :data_object => @current_task }
  .article.source
    .header
      %h3= I18n.t(:source_information_header)
    = render :partial => 'data_objects/attribution', :locals => { :data_object => @current_task }
    - if @current_task.is_image?
      %p= link_to I18n.t(:view_full_size_image), @current_task.thumb_or_object(:orig)
    - if @current_task.is_sound?
      - en_mime_type = @current_task.mime_type ? @current_task.mime_type.label('en') : DataType.sound.simple_type
      %p= link_to I18n.t("download_#{en_mime_type.sub(/\//, '_')}"), @current_task.sound_url, { :title => I18n.t("download_#{en_mime_type.sub(/\//, '_')}_assistive") }
  = render :partial => 'data_objects/list_associations', :locals => { :data_object => @current_task, :en_type => en_type(@current_task) }
  - revisions = @current_task['revisions']
  - unless revisions.blank?
    = render :partial => 'data_objects/revisions', :locals => { :data_object => @current_task, :revisions => revisions }